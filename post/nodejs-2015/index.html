<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>nodejs 2015 (es6 and es7 features) -- Notebook</title>

    

    
    <link href="https://mvaude.github.io/notebook/css/bootstrap.min.css" rel="stylesheet">

    
    <link href="https://mvaude.github.io/notebook/css/clean-blog.min.css" rel="stylesheet">

    
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    
    
    

</head>

<body>

    
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://mvaude.github.io/notebook/">Notebook</a>
            </div>

                       
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    
                    <li>
                        <a href="https://mvaude.github.io/notebook/">home</a>
                    </li>
                    
                    <li>
                        <a href="https://mvaude.github.io/notebook/post/">Archives</a>
                    </li>
                    
                  </ul>
            </div>
           

        </div>
        
    </nav>


    
    
    <header class="intro-header" style="background-image: url('https://mvaude.github.io/notebook//img/about-bg.jpg')">
      
      <div class="container">
        <div class="row">
           <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
             <div class="post-heading">
               <h1>Nodejs 2015 (Es6 And Es7 Features)</h1>
               <h2 class="subheading"></h2>
               <span class="meta">Posted by <a href="#">Maxime Vaude</a> on Sun, Nov 00, 18110
                 <br />
                 In <a href="https://mvaude.github.io/notebook/categories/programming" >Programming</a>, <a href="https://mvaude.github.io/notebook/categories/javascript" >Javascript</a>, 

                 <br />
                 Tags <a href="https://mvaude.github.io/notebook/tags/nodejs" >nodejs</a> <a href="https://mvaude.github.io/notebook/tags/programming" >programming</a> <a href="https://mvaude.github.io/notebook/tags/javascript" >javascript</a> <a href="https://mvaude.github.io/notebook/tags/es6" >es6</a> <a href="https://mvaude.github.io/notebook/tags/es7" >es7</a> 

               </span>
             </div>
           </div>
        </div>
      </div>
    </header>

    
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  

<h1 id="nodejs:a743d05677118bb903c98e0c9cbb1bab">Nodejs</h1>

<h1 id="es6-features:a743d05677118bb903c98e0c9cbb1bab">ES6 features</h1>

<h2 id="introduction:a743d05677118bb903c98e0c9cbb1bab">Introduction</h2>

<p>ECMAScript 6, also known as ECMAScript 2015, is the latest version of the ECMAScript standard.  ES6 is a significant update to the language, and the first update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is <a href="http://kangax.github.io/es5-compat-table/es6/">underway now</a>.</p>

<p>See the <a href="http://www.ecma-international.org/ecma-262/6.0/">ES6 standard</a> for full specification of the ECMAScript 6 language.</p>

<p>ES6 includes the following new features:
- <a href="#arrows">arrows</a>
- <a href="#classes">classes</a>
- <a href="#enhanced-object-literals">enhanced object literals</a>
- <a href="#template-strings">template strings</a>
- <a href="#destructuring">destructuring</a>
- <a href="#default--rest--spread">default + rest + spread</a>
- <a href="#let--const">let + const</a>
- <a href="#iterators--forof">iterators + for..of</a>
- <a href="#generators">generators</a>
- <a href="#unicode">unicode</a>
- <a href="#modules">modules</a>
- <a href="#module-loaders">module loaders</a>
- <a href="#map--set--weakmap--weakset">map + set + weakmap + weakset</a>
- <a href="#proxies">proxies</a>
- <a href="#symbols">symbols</a>
- <a href="#subclassable-built-ins">subclassable built-ins</a>
- <a href="#promises">promises</a>
- <a href="#math--number--string--array--object-apis">math + number + string + array + object APIs</a>
- <a href="#binary-and-octal-literals">binary and octal literals</a>
- <a href="#reflect-api">reflect api</a>
- <a href="#tail-calls">tail calls</a></p>

<h2 id="ecmascript-6-features:a743d05677118bb903c98e0c9cbb1bab">ECMAScript 6 Features</h2>

<h3 id="arrows:a743d05677118bb903c98e0c9cbb1bab">Arrows</h3>

<p>Arrows are a function shorthand using the <code>=&gt;</code> syntax.  They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript.  They support both statement block bodies as well as expression bodies which return the value of the expression.  Unlike functions, arrows share the same lexical <code>this</code> as their surrounding code.</p>

<pre><code class="language-JavaScript">// Expression bodies
var odds = evens.map(v =&gt; v + 1);
var nums = evens.map((v, i) =&gt; v + i);
var pairs = evens.map(v =&gt; ({even: v, odd: v + 1}));

// Statement bodies
nums.forEach(v =&gt; {
  if (v % 5 === 0)
    fives.push(v);
});

// Lexical this
var bob = {
  _name: &quot;Bob&quot;,
  _friends: [],
  printFriends() {
    this._friends.forEach(f =&gt;
      console.log(this._name + &quot; knows &quot; + f));
  }
}

// Lexical arguments
function square() {
  let example = () =&gt; {
    let numbers = [];
    for (number of arguments) {
      numbers.push(number * 2);
    }

    return numbers;
  };

  return example();
}

square(2, 4, 7.5, 8, 11.5, 21); // returns: [4, 8, 15, 16, 23, 42]
</code></pre>

<h3 id="classes:a743d05677118bb903c98e0c9cbb1bab">Classes</h3>

<p>ES6 classes are a simple sugar over the prototype-based OO pattern.  Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability.  Classes support prototype-based inheritance, super calls, instance and static methods and constructors.</p>

<pre><code class="language-JavaScript">class SkinnedMesh extends THREE.Mesh {
  constructor(geometry, materials) {
    super(geometry, materials);

    this.idMatrix = SkinnedMesh.defaultMatrix();
    this.bones = [];
    this.boneMatrices = [];
    //...
  }
  update(camera) {
    //...
    super.update();
  }
  get boneCount() {
    return this.bones.length;
  }
  set matrixType(matrixType) {
    this.idMatrix = SkinnedMesh[matrixType]();
  }
  static defaultMatrix() {
    return new THREE.Matrix4();
  }
}
</code></pre>

<h3 id="enhanced-object-literals:a743d05677118bb903c98e0c9cbb1bab">Enhanced Object Literals</h3>

<p>Object literals are extended to support setting the prototype at construction, shorthand for <code>foo: foo</code> assignments, defining methods, making super calls, and computing property names with expressions.  Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences.</p>

<pre><code class="language-JavaScript">var obj = {
    // __proto__
    __proto__: theProtoObj,
    // Shorthand for ‚Äòhandler: handler‚Äô
    handler,
    // Methods
    toString() {
    // Super calls
     return &quot;d &quot; + super.toString();
    },
    // Computed (dynamic) property names
    [ 'prop_' + (() =&gt; 42)() ]: 42
};
</code></pre>

<h3 id="template-strings:a743d05677118bb903c98e0c9cbb1bab">Template Strings</h3>

<p>Template strings provide syntactic sugar for constructing strings.  This is similar to string interpolation features in Perl, Python and more.  Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents.</p>

<pre><code class="language-JavaScript">// Basic literal string creation
`In JavaScript '\n' is a line-feed.` === &quot;In Javascript '\n' is a line-feed.&quot;

// Multiline strings
`In ES6 this line break is
 now legal.` === &quot;In ES6 this line break is\n now legal.&quot;

// String interpolation
var name = &quot;Bob&quot;, time = &quot;today&quot;;
`Hello ${name}, how are you ${time}?`

// Construct an HTTP request prefix is used to interpret the replacements and construction
POST`http://foo.org/bar?a=${a}&amp;b=${b}
     Content-Type: application/json
     X-Credentials: ${credentials}
     { &quot;foo&quot;: ${foo},
       &quot;bar&quot;: ${bar}}`(myOnReadyStateChangeHandler);
</code></pre>

<h3 id="destructuring:a743d05677118bb903c98e0c9cbb1bab">Destructuring</h3>

<p>Destructuring allows binding using pattern matching, with support for matching arrays and objects.  Destructuring is fail-soft, similar to standard object lookup <code>foo[&quot;bar&quot;]</code>, producing <code>undefined</code> values when not found.</p>

<pre><code class="language-JavaScript">// list matching
var [a, , c] = [1, 2, 3];

// object matching
var { op: a, lhs: { op: b }, rhs: c }
       = getASTNode()

// object matching shorthand
// binds `op`, `lhs` and `rhs` in scope
var {op, lhs, rhs} = getASTNode()

// Can be used in parameter position
function g({name: x}) {
  console.log(x);
}
g({name: 5})

// Fail-soft destructuring
var [a] = [];
a === undefined;

// Fail-soft destructuring with defaults
var [a = 1] = [];
a === 1;
</code></pre>

<h3 id="default-rest-spread:a743d05677118bb903c98e0c9cbb1bab">Default + Rest + Spread</h3>

<p>Callee-evaluated default parameter values.  Turn an array into consecutive arguments in a function call.  Bind trailing parameters to an array.  Rest replaces the need for <code>arguments</code> and addresses common cases more directly.</p>

<pre><code class="language-JavaScript">function f(x, y=12) {
  // y is 12 if not passed (or passed as undefined)
  return x + y;
}
f(3) == 15
</code></pre>

<pre><code class="language-JavaScript">function f(x, ...y) {
  // y is an Array
  return x * y.length;
}
f(3, &quot;hello&quot;, true) == 6
</code></pre>

<pre><code class="language-JavaScript">function f(x, y, z) {
  return x + y + z;
}
// Pass each elem of array as argument
f(...[1,2,3]) == 6
</code></pre>

<h3 id="let-const:a743d05677118bb903c98e0c9cbb1bab">Let + Const</h3>

<p>Block-scoped binding constructs.  <code>let</code> is the new <code>var</code>.  <code>const</code> is single-assignment.  Static restrictions prevent use before assignment.</p>

<pre><code class="language-JavaScript">function f() {
  {
    let x;
    {
      // okay, block scoped name
      const x = &quot;sneaky&quot;;
      // error, const
      x = &quot;foo&quot;;
    }
    // error, already declared in block
    let x = &quot;inner&quot;;
  }
}
</code></pre>

<h3 id="iterators-for-of:a743d05677118bb903c98e0c9cbb1bab">Iterators + For..Of</h3>

<p>Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable.  Generalize <code>for..in</code> to custom iterator-based iteration with <code>for..of</code>.  Don‚Äôt require realizing an array, enabling lazy design patterns like LINQ.</p>

<pre><code class="language-JavaScript">let fibonacci = {
  [Symbol.iterator]() {
    let pre = 0, cur = 1;
    return {
      next() {
        [pre, cur] = [cur, pre + cur];
        return { done: false, value: cur }
      }
    }
  }
}

for (var n of fibonacci) {
  // truncate the sequence at 1000
  if (n &gt; 1000)
    break;
  console.log(n);
}
</code></pre>

<p>Iteration is based on these duck-typed interfaces (using <a href="http://typescriptlang.org">TypeScript</a> type syntax for exposition only):</p>

<pre><code class="language-TypeScript">interface IteratorResult {
  done: boolean;
  value: any;
}
interface Iterator {
  next(): IteratorResult;
}
interface Iterable {
  [Symbol.iterator](): Iterator
}
</code></pre>

<h3 id="generators:a743d05677118bb903c98e0c9cbb1bab">Generators</h3>

<p>Generators simplify iterator-authoring using <code>function*</code> and <code>yield</code>.  A function declared as function* returns a Generator instance.  Generators are subtypes of iterators which include additional  <code>next</code> and <code>throw</code>.  These enable values to flow back into the generator, so <code>yield</code> is an expression form which returns a value (or throws).</p>

<p>Note: Can also be used to enable ‚Äòawait‚Äô-like async programming, see also ES7 <code>await</code> proposal.</p>

<pre><code class="language-JavaScript">var fibonacci = {
  [Symbol.iterator]: function*() {
    var pre = 0, cur = 1;
    for (;;) {
      var temp = pre;
      pre = cur;
      cur += temp;
      yield cur;
    }
  }
}

for (var n of fibonacci) {
  // truncate the sequence at 1000
  if (n &gt; 1000)
    break;
  console.log(n);
}
</code></pre>

<p>The generator interface is (using <a href="http://typescriptlang.org">TypeScript</a> type syntax for exposition only):</p>

<pre><code class="language-TypeScript">interface Generator extends Iterator {
    next(value?: any): IteratorResult;
    throw(exception: any);
}
</code></pre>

<h3 id="unicode:a743d05677118bb903c98e0c9cbb1bab">Unicode</h3>

<p>Non-breaking additions to support full Unicode, including new Unicode literal form in strings and new RegExp <code>u</code> mode to handle code points, as well as new APIs to process strings at the 21bit code points level.  These additions support building global apps in JavaScript.</p>

<pre><code class="language-JavaScript">// same as ES5.1
&quot;†Æ∑&quot;.length == 2

// new RegExp behaviour, opt-in ‚Äòu‚Äô
&quot;†Æ∑&quot;.match(/./u)[0].length == 2

// new form
&quot;\u{20BB7}&quot;==&quot;†Æ∑&quot;==&quot;\uD842\uDFB7&quot;

// new String ops
&quot;†Æ∑&quot;.codePointAt(0) == 0x20BB7

// for-of iterates code points
for(var c of &quot;†Æ∑&quot;) {
  console.log(c);
}
</code></pre>

<h3 id="modules:a743d05677118bb903c98e0c9cbb1bab">Modules</h3>

<p>Language-level support for modules for component definition.  Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader.  Implicitly async model ‚Äì no code executes until requested modules are available and processed.</p>

<pre><code class="language-JavaScript">// lib/math.js
export function sum(x, y) {
  return x + y;
}
export var pi = 3.141593;
</code></pre>

<pre><code class="language-JavaScript">// app.js
import * as math from &quot;lib/math&quot;;
alert(&quot;2œÄ = &quot; + math.sum(math.pi, math.pi));
</code></pre>

<pre><code class="language-JavaScript">// otherApp.js
import {sum, pi} from &quot;lib/math&quot;;
alert(&quot;2œÄ = &quot; + sum(pi, pi));
</code></pre>

<p>Some additional features include <code>export default</code> and <code>export *</code>:</p>

<pre><code class="language-JavaScript">// lib/mathplusplus.js
export * from &quot;lib/math&quot;;
export var e = 2.71828182846;
export default function(x) {
    return Math.log(x);
}
</code></pre>

<pre><code class="language-JavaScript">// app.js
import ln, {pi, e} from &quot;lib/mathplusplus&quot;;
alert(&quot;2œÄ = &quot; + ln(e)*pi*2);
</code></pre>

<h3 id="module-loaders:a743d05677118bb903c98e0c9cbb1bab">Module Loaders</h3>

<p>Module loaders support:
- Dynamic loading
- State isolation
- Global namespace isolation
- Compilation hooks
- Nested virtualization</p>

<p>The default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts.</p>

<pre><code class="language-JavaScript">// Dynamic loading ‚Äì ‚ÄòSystem‚Äô is default loader
System.import('lib/math').then(function(m) {
  alert(&quot;2œÄ = &quot; + m.sum(m.pi, m.pi));
});

// Create execution sandboxes ‚Äì new Loaders
var loader = new Loader({
  global: fixup(window) // replace ‚Äòconsole.log‚Äô
});
loader.eval(&quot;console.log('hello world!');&quot;);

// Directly manipulate module cache
System.get('jquery');
System.set('jquery', Module({$: $})); // WARNING: not yet finalized
</code></pre>

<h3 id="map-set-weakmap-weakset:a743d05677118bb903c98e0c9cbb1bab">Map + Set + WeakMap + WeakSet</h3>

<p>Efficient data structures for common algorithms.  WeakMaps provides leak-free object-key‚Äôd side tables.</p>

<pre><code class="language-JavaScript">// Sets
var s = new Set();
s.add(&quot;hello&quot;).add(&quot;goodbye&quot;).add(&quot;hello&quot;);
s.size === 2;
s.has(&quot;hello&quot;) === true;

// Maps
var m = new Map();
m.set(&quot;hello&quot;, 42);
m.set(s, 34);
m.get(s) == 34;

// Weak Maps
var wm = new WeakMap();
wm.set(s, { extra: 42 });
wm.size === undefined

// Weak Sets
var ws = new WeakSet();
ws.add({ data: 42 });
// Because the added object has no other references, it will not be held in the set
</code></pre>

<h3 id="proxies:a743d05677118bb903c98e0c9cbb1bab">Proxies</h3>

<p>Proxies enable creation of objects with the full range of behaviors available to host objects.  Can be used for interception, object virtualization, logging/profiling, etc.</p>

<pre><code class="language-JavaScript">// Proxying a normal object
var person = { name: &quot;Alice&quot; };
var handlers = {
    get: function (target, property, receiver) {
        if (property === &quot;realName&quot;) {
            return target.name;
        } else if (property === &quot;fakeName&quot;) {
            return &quot;Really &quot; + receiver.name;
        }
        return &quot;Bob&quot;;
    }
};

var fakePerson = new Proxy(person, handlers);
fakePerson.name === &quot;Bob&quot; &amp;&amp;
fakePerson.realName === &quot;Alice&quot; &amp;&amp;
fakePerson.fakeName === &quot;Really Bob&quot;;
</code></pre>

<pre><code class="language-JavaScript">// Proxying a function object
var target = function () { return 'I am the target'; };
var handler = {
  apply: function (receiver, ...args) {
    return 'I am the proxy';
  }
};

var p = new Proxy(target, handler);
p() === 'I am the proxy';
</code></pre>

<p>There are traps available for all of the runtime-level meta-operations:</p>

<pre><code class="language-JavaScript">var handler =
{
  get:...,
  set:...,
  has:...,
  deleteProperty:...,
  apply:...,
  construct:...,
  getOwnPropertyDescriptor:...,
  defineProperty:...,
  getPrototypeOf:...,
  setPrototypeOf:...,
  enumerate:...,
  ownKeys:...,
  preventExtensions:...,
  isExtensible:...
}
</code></pre>

<h3 id="symbols:a743d05677118bb903c98e0c9cbb1bab">Symbols</h3>

<p>Symbols enable access control for object state.  Symbols allow properties to be keyed by either <code>string</code> (as in ES5) or <code>symbol</code>.  Symbols are a new primitive type. Optional <code>description</code> parameter used in debugging - but is not part of identity.  Symbols are unique (like gensym), but not private since they are exposed via reflection features like <code>Object.getOwnPropertySymbols</code>.</p>

<pre><code class="language-JavaScript">var MyClass = (function() {

  // module scoped symbol
  var key = Symbol(&quot;key&quot;);

  function MyClass(privateData) {
    this[key] = privateData;
  }

  MyClass.prototype = {
    doStuff: function() {
      ... this[key] ...
    }
  };

  return MyClass;
})();

var c = new MyClass(&quot;hello&quot;)
c[&quot;key&quot;] === undefined
</code></pre>

<h3 id="subclassable-built-ins:a743d05677118bb903c98e0c9cbb1bab">Subclassable Built-ins</h3>

<p>In ES6, built-ins like <code>Array</code>, <code>Date</code> and DOM <code>Element</code>s can be subclassed.</p>

<pre><code class="language-JavaScript">// Array subclass
class MyArray extends Array {
    constructor(...args) { super(...args); }
}

var arr = new MyArray();
arr[1] = 12;
arr.length == 2;
Array.isArray(arr); // true
</code></pre>

<h3 id="math-number-string-array-object-apis:a743d05677118bb903c98e0c9cbb1bab">Math + Number + String + Array + Object APIs</h3>

<p>Many new library additions, including core Math libraries, Array conversion helpers, String helpers, and Object.assign for copying.</p>

<pre><code class="language-JavaScript">Number.EPSILON
Number.isInteger(Infinity) // false
Number.isNaN(&quot;NaN&quot;) // false

Math.acosh(3) // 1.762747174039086
Math.hypot(3, 4) // 5
Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2

&quot;abcde&quot;.includes(&quot;cd&quot;) // true
&quot;abc&quot;.repeat(3) // &quot;abcabcabc&quot;

Array.from(document.querySelectorAll('*')) // Returns a real Array
Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior
[0, 0, 0].fill(7, 1) // [0,7,7]
[1, 2, 3].find(x =&gt; x == 3) // 3
[1, 2, 3].findIndex(x =&gt; x == 2) // 1
[1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2]
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].entries() // iterator [0, &quot;a&quot;], [1,&quot;b&quot;], [2,&quot;c&quot;]
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].keys() // iterator 0, 1, 2
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].values() // iterator &quot;a&quot;, &quot;b&quot;, &quot;c&quot;

Object.assign(Point, { origin: new Point(0,0) })
</code></pre>

<h3 id="binary-and-octal-literals:a743d05677118bb903c98e0c9cbb1bab">Binary and Octal Literals</h3>

<p>Two new numeric literal forms are added for binary (<code>b</code>) and octal (<code>o</code>).</p>

<pre><code class="language-JavaScript">0b111110111 === 503 // true
0o767 === 503 // true
</code></pre>

<h3 id="promises:a743d05677118bb903c98e0c9cbb1bab">Promises</h3>

<p>Promises are a library for asynchronous programming.  Promises are a first class representation of a value that may be made available in the future.  Promises are used in many existing JavaScript libraries.</p>

<pre><code class="language-JavaScript">function timeout(duration = 0) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(resolve, duration);
    })
}

var p = timeout(1000).then(() =&gt; {
    return timeout(2000);
}).then(() =&gt; {
    throw new Error(&quot;hmm&quot;);
}).catch(err =&gt; {
    return Promise.all([timeout(100), timeout(200)]);
})
</code></pre>

<h3 id="reflect-api:a743d05677118bb903c98e0c9cbb1bab">Reflect API</h3>

<p>Full reflection API exposing the runtime-level meta-operations on objects.  This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps.  Especially useful for implementing proxies.</p>

<pre><code class="language-JavaScript">var O = {a: 1};
Object.defineProperty(O, 'b', {value: 2});
O[Symbol('c')] = 3;

Reflect.ownKeys(O); // ['a', 'b', Symbol(c)]

function C(a, b) {
  this.c = a + b;
}
var instance = Reflect.construct(C, [20, 22]);
instance.c; // 42
</code></pre>

<h3 id="tail-calls:a743d05677118bb903c98e0c9cbb1bab">Tail Calls</h3>

<p>Calls in tail-position are guaranteed to not grow the stack unboundedly.  Makes recursive algorithms safe in the face of unbounded inputs.</p>

<pre><code class="language-JavaScript">function factorial(n, acc = 1) {
    'use strict';
    if (n &lt;= 1) return acc;
    return factorial(n - 1, n * acc);
}

// Stack overflow in most implementations today,
// but safe on arbitrary inputs in ES6
factorial(100000)
</code></pre>

<h1 id="es7-features:a743d05677118bb903c98e0c9cbb1bab">ES7 Features</h1>

<h2 id="introduction-1:a743d05677118bb903c98e0c9cbb1bab">Introduction</h2>

<p>ECMAScript 7 is the next evolution of the ECMA-262 standard, this is at a very early stage, you may want to checkout <a href="https://github.com/hemanth/paws-on-es6">paws-on-es6</a> and <a href="http://jsfeatures.in">jsfeatures.in</a> as well.</p>

<p><strong>List of ES7 features:</strong></p>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->

<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
<li><a href="#exponentiation-operator">Exponentiation Operator</a></li>
<li><a href="#async-functions">Async functions</a></li>
<li><a href="#async-generators">Async generators</a></li>
<li><a href="#objectgetownpropertydescriptors">Object.getOwnPropertyDescriptors</a></li>
<li><a href="#objectvalues">Object.values</a></li>
<li><a href="#objectentries">Object.entries</a></li>
<li><a href="#arrayprototypeincludes">Array.prototype.includes</a></li>
<li><a href="#typed-objects">Typed Objects</a></li>
<li><a href="#trailing-commas-in-function-syntax">Trailing commas in function syntax.</a></li>
<li><a href="#class-decorators">Class decorators.</a></li>
<li><a href="#class-properties">Class properties</a></li>
<li><a href="#mapprototypetojson">Map.prototype.toJSON</a></li>
<li><a href="#setprototypetojson">Set.prototype.toJSON</a></li>
<li><a href="#stringprototypeat">String.prototype.at</a></li>
<li><a href="#object-rest-properties">Object rest properties</a></li>
<li><a href="#object-spread-properties">Object spread properties</a></li>
<li><a href="#stringprototypepadleft">String.prototype.padLeft</a></li>
<li><a href="#stringprototypepadright">String.prototype.padRight</a></li>
<li><a href="#stringprototypetrimleft">String.prototype.trimLeft</a></li>
<li><a href="#stringprototypetrimright">String.prototype.trimRight</a></li>
<li><a href="#regexpescape">Regexp.escape</a></li>
<li><a href="#bind-operator">Bind Operator</a></li>
<li><a href="#reflectrealm">Reflect.Realm</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<h1 id="exponentiation-operator:a743d05677118bb903c98e0c9cbb1bab">Exponentiation Operator</h1>

<blockquote>
<p>Performs exponential calculation on operands. Same algorithm as <code>Math.pow(x, y)</code></p>

<p>Stage: Draft.</p>
</blockquote>

<pre><code class="language-js">
let cubed = x =&gt; x ** 3;

cubed(2) // 8;
</code></pre>

<h1 id="async-functions:a743d05677118bb903c98e0c9cbb1bab">Async functions</h1>

<blockquote>
<p>Deferred Functions</p>

<p>Stage: Proposal.</p>
</blockquote>

<pre><code class="language-js">function wait(t){
  return new Promise((r) =&gt; setTimeout(r, t));
}

async function asyncMania(){
  console.log(&quot;1&quot;);
  await wait(1000);
  console.log(&quot;2&quot;);
}

asyncMania()
.then(() =&gt; console.log(&quot;3&quot;));

// logs: 1 2 3
</code></pre>

<h1 id="async-generators:a743d05677118bb903c98e0c9cbb1bab">Async generators</h1>

<blockquote>
<p>Deferred generators.</p>

<p>Stage: Proposal.</p>
</blockquote>

<pre><code class="language-js">// provider
async function* nums() {
  yield 1;
  yield 2;
  yield 3;
}

// consumer
async function printData() {
  for(var x on nums()) {
    console.log(x);
  }
}
</code></pre>

<h1 id="object-getownpropertydescriptors:a743d05677118bb903c98e0c9cbb1bab">Object.getOwnPropertyDescriptors</h1>

<blockquote>
<p>Returns a property descriptor for an own property.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">// Creating a shallow copy.
var shallowCopy = Object.create(
  Object.getPrototypeOf(originalObject),
  Object.getOwnPropertyDescriptors(originalObject)
);
</code></pre>

<h1 id="object-values:a743d05677118bb903c98e0c9cbb1bab">Object.values</h1>

<blockquote>
<p>Get all the values of the object as an array.</p>

<p>Stage: Shall reach Strawman</p>
</blockquote>

<pre><code class="language-js">var person = { fname: &quot;Hemanth&quot;, lname: &quot;HM&quot;, location: &quot;Earth&quot;, type: &quot;Human&quot; };

Object.values(person);

//^ [&quot;Hemanth&quot;,&quot;HM&quot;,&quot;Earth&quot;,&quot;Human&quot;]
</code></pre>

<h1 id="object-entries:a743d05677118bb903c98e0c9cbb1bab">Object.entries</h1>

<blockquote>
<p>Returns a Array of arrays of key,value pairs.</p>

<p>Stage: Shall reach Strawman</p>
</blockquote>

<pre><code class="language-js">var person = { fname: &quot;Hemanth&quot;, lname: &quot;HM&quot;, location: &quot;Earth&quot;, type: &quot;Human&quot; };

Object.entries(person);

//^ [[&quot;fname&quot;,&quot;Hemanth&quot;],[&quot;lname&quot;,&quot;HM&quot;],[&quot;location&quot;,&quot;Earth&quot;],[&quot;type&quot;,&quot;Human&quot;]]

</code></pre>

<h1 id="array-prototype-includes:a743d05677118bb903c98e0c9cbb1bab">Array.prototype.includes</h1>

<blockquote>
<p>Determines whether an array includes a certain element or not.</p>

<p>Stage: Draft.</p>
</blockquote>

<pre><code class="language-js">[1, 2, 3].includes(3, 0, 7); // true
[1, 2, NaN].includes(NaN); // true
[0,+1,-1].includes(42); // false
</code></pre>

<h1 id="typed-objects:a743d05677118bb903c98e0c9cbb1bab">Typed Objects</h1>

<blockquote>
<p>Portable, memory-safe, efficient, and structured access to contiguously allocated data.</p>

<p>Stage: Proposal.</p>
</blockquote>

<pre><code class="language-js">var Point = new StructType({
  x: int32,
  y: int32
});

var point = new Point({
  x: 42,
  y: 420
});
</code></pre>

<h1 id="trailing-commas-in-function-syntax:a743d05677118bb903c98e0c9cbb1bab">Trailing commas in function syntax.</h1>

<blockquote>
<p>Trailing commas in parameter and argument lists.</p>

<p>Stage: Proposal</p>
</blockquote>

<pre><code class="language-js">var meow = function (cat1, cat2,) {}

Math.max(4,2,0,);
</code></pre>

<h1 id="class-decorators:a743d05677118bb903c98e0c9cbb1bab">Class decorators.</h1>

<blockquote>
<p>Annotate and modify classes and properties at design time.</p>

<p>Stage: Proposal.</p>
</blockquote>

<pre><code class="language-js">class Person {
  @cantEnum
  get kidCount() { return this.children.length; }
}

function cantEnum(target, name, descriptor) {
  descriptor.enumerable = false;
  return descriptor;
}
</code></pre>

<h1 id="class-properties:a743d05677118bb903c98e0c9cbb1bab">Class properties</h1>

<blockquote>
<p>Properties of class.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">class Cat {
  name = 'Garfield';
  static says = 'meow';
}
new Cat().name; // Garfield
Cat.says; // meow
</code></pre>

<h1 id="map-prototype-tojson:a743d05677118bb903c98e0c9cbb1bab">Map.prototype.toJSON</h1>

<blockquote>
<p><code>toJSON</code> for Maps.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">var myMap = new Map();
myMap.set(NaN, &quot;not a number&quot;);

console.log(myMap.toJSON()); // {&quot;NaN&quot;:&quot;not a number&quot;}
</code></pre>

<h1 id="set-prototype-tojson:a743d05677118bb903c98e0c9cbb1bab">Set.prototype.toJSON</h1>

<blockquote>
<p><code>toJSON</code> for Sets.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">var mySet = new Set();
mySet.add(NaN);
mySet.add(1);
console.log(mySet.toJSON()) // {&quot;1&quot;:1,&quot;NaN&quot;:null}
</code></pre>

<h1 id="string-prototype-at:a743d05677118bb903c98e0c9cbb1bab">String.prototype.at</h1>

<blockquote>
<p>String containing the code point at the given position</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">'abc\uD834\uDF06def'.at(1) // 'b'
'abc\uD834\uDF06def'.at(3) // '\uD834\uDF06'
</code></pre>

<h1 id="object-rest-properties:a743d05677118bb903c98e0c9cbb1bab">Object rest properties</h1>

<blockquote>
<p>Rest properties for object destructuring assignment.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">let { fname, lname, ...rest } = { fname: &quot;Hemanth&quot;, lname: &quot;HM&quot;, location: &quot;Earth&quot;, type: &quot;Human&quot; };
fname; //&quot;Hemanth&quot;
lname; //&quot;HM&quot;
rest; // {location: &quot;Earth&quot;, type: &quot;Human&quot;}
</code></pre>

<h1 id="object-spread-properties:a743d05677118bb903c98e0c9cbb1bab">Object spread properties</h1>

<blockquote>
<p>Spread properties for object destructuring assignment.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">let info = {fname, lname, ...rest};

info; // { fname: &quot;Hemanth&quot;, lname: &quot;HM&quot;, location: &quot;Earth&quot;, type: &quot;Human&quot; }

</code></pre>

<h1 id="string-prototype-padleft:a743d05677118bb903c98e0c9cbb1bab">String.prototype.padLeft</h1>

<blockquote>
<p>left justify and pad strings.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">&quot;hello&quot;.padLeft(4)            #=&gt; &quot;hello&quot;
&quot;hello&quot;.padLeft(20)           #=&gt; &quot;hello               &quot;
&quot;hello&quot;.padLeft(20, '1234')   #=&gt; &quot;hello123412341234123&quot;
</code></pre>

<h1 id="string-prototype-padright:a743d05677118bb903c98e0c9cbb1bab">String.prototype.padRight</h1>

<blockquote>
<p>right justify and pad strings.</p>

<p>Stage: Strawman.</p>
</blockquote>

<pre><code class="language-js">&quot;hello&quot;.padRight(4)            #=&gt; &quot;hello&quot;
&quot;hello&quot;.padRight(20)           #=&gt; &quot;               hello&quot;
&quot;hello&quot;.padRight(20, '1234')   #=&gt; &quot;123412341234123hello&quot;
</code></pre>

<h1 id="string-prototype-trimleft:a743d05677118bb903c98e0c9cbb1bab">String.prototype.trimLeft</h1>

<blockquote>
<p>left trims the string.</p>

<p>Stage: Candidate.</p>
</blockquote>

<pre><code class="language-js">' \t \n LeftTrim   \t\n'.trimLeft(); // 'LeftTrim   \t\n';
</code></pre>

<h1 id="string-prototype-trimright:a743d05677118bb903c98e0c9cbb1bab">String.prototype.trimRight</h1>

<blockquote>
<p>right trims the string.</p>

<p>Stage: Candidate.</p>
</blockquote>

<pre><code class="language-js">' \t \n RightTrim   \t\n'.trimRight(); // ' \t \n RightTrim';
</code></pre>

<h1 id="regexp-escape:a743d05677118bb903c98e0c9cbb1bab">Regexp.escape</h1>

<blockquote>
<p>Escapes any characters that would have special meaning in a regular expression.</p>

<p>Stage: Strawaman</p>
</blockquote>

<pre><code class="language-js">RegExp.escape(&quot;(*.*)&quot;); // &quot;\(\*\.\*\)&quot;
RegExp.escape(&quot;ÔΩ°^ÔΩ•ÔΩ™ÔΩ•^ÔΩ°&quot;) // &quot;ÔΩ°\^ÔΩ•ÔΩ™ÔΩ•\^ÔΩ°&quot;
RegExp.escape(&quot;üòä *_* +_+ ... üëç&quot;); // &quot;üòä \*_\* \+_\+ \.\.\. üëç&quot;
</code></pre>

<h1 id="bind-operator:a743d05677118bb903c98e0c9cbb1bab">Bind Operator</h1>

<blockquote>
<p><code>::</code> Function binding and method extraction</p>

<p>Stage: Shall reach Strawman.</p>
</blockquote>

<pre><code class="language-js">let log = (level, msg) =&gt; ::console[level](msg);

import { map, takeWhile, forEach } from &quot;iterlib&quot;;

getPlayers()
  ::map(x =&gt; x.character())
  ::takeWhile(x =&gt; x.strength &gt; 100)
  ::forEach(x =&gt; console.log(x));
</code></pre>

<h1 id="reflect-realm:a743d05677118bb903c98e0c9cbb1bab">Reflect.Realm</h1>

<blockquote>
<p>TDB</p>
</blockquote>

<h1 id="references:a743d05677118bb903c98e0c9cbb1bab">References</h1>

<p><a href="https://github.com/lukehoban/es6features">ES6 features</a>
<a href="https://github.com/hemanth/es7-features">ES7 features</a></p>

                </div>
            </div>
        </div>
    </article>

    <hr>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  <ul class="list-inline text-center">
                    <li>
                      <a href="mailto:maxime.vaude@gmail.com">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="https://twitter.com/wefirm">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="https://github.com/mvaude">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="https://www.facebook.com/FACEBOOKHANDLE">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                  </ul>
                  <p class="copyright text-muted">Code released WTFPL license.</p>
                </div>
            </div>
        </div>
    </footer>

    
    <script src="https://mvaude.github.io/notebook/js/jquery.min.js"></script>

    
    <script src="https://mvaude.github.io/notebook/js/bootstrap.min.js"></script>

    
    <script src="https://mvaude.github.io/notebook/js/clean-blog.js"></script>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'XX-00000000-0', 'auto');
  ga('send', 'pageview');
</script>


</body>

</html>

